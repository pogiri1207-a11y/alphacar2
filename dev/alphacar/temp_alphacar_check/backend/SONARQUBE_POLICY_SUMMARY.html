<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>SONARQUBE_POLICY_SUMMARY</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5/github-markdown.min.css" />
</head>
<body>
<h1 id="sonarqube-ì •ì±…-ì ìš©-ìš”ì•½">SonarQube ì •ì±… ì ìš© ìš”ì•½</h1>
<h2 id="ëª©ì°¨">ğŸ“‹ ëª©ì°¨</h2>
<ol type="1">
<li><a href="#sonarqube-ì •ì±…ì´ë€">SonarQube ì •ì±…ì´ë€?</a></li>
<li><a href="#ë°œê²¬ëœ-ë¬¸ì œ">ë°œê²¬ëœ ë¬¸ì œ</a></li>
<li><a href="#ìˆ˜ì •-ì‚¬í•­">ìˆ˜ì • ì‚¬í•­</a></li>
<li><a href="#quality-gate-ì •ì±…">Quality Gate ì •ì±…</a></li>
<li><a href="#cicd-í†µí•©">CI/CD í†µí•©</a></li>
<li><a href="#ìµœì¢…-ê²°ê³¼">ìµœì¢… ê²°ê³¼</a></li>
</ol>
<hr />
<h2 id="sonarqube-ì •ì±…ì´ë€">ğŸ¯ SonarQube ì •ì±…ì´ë€?</h2>
<p><strong>Quality Gate(í’ˆì§ˆ ê²Œì´íŠ¸)</strong>ëŠ” ì½”ë“œê°€ ë°°í¬ë˜ê¸° ì „ì—
ë°˜ë“œì‹œ í†µê³¼í•´ì•¼ í•˜ëŠ” <strong>í’ˆì§ˆ ê¸°ì¤€</strong>ì…ë‹ˆë‹¤.</p>
<ul>
<li>ğŸŸ¢ <strong>OK</strong>: ì½”ë“œ í’ˆì§ˆ ê¸°ì¤€ ë§Œì¡± â†’ ë°°í¬ ê°€ëŠ¥</li>
<li>ğŸ”´ <strong>ERROR</strong>: ì½”ë“œ í’ˆì§ˆ ê¸°ì¤€ ë¯¸ë‹¬ â†’ ë°°í¬ ì°¨ë‹¨</li>
</ul>
<p><strong>ëª©ì </strong>: ë³´ì•ˆ ì·¨ì•½ì ì´ë‚˜ ë²„ê·¸ê°€ ìˆëŠ” ì½”ë“œë¥¼ ë°°í¬ ì „ì—
ì°¨ë‹¨</p>
<hr />
<h2 id="ë°œê²¬ëœ-ë¬¸ì œ">ğŸ” ë°œê²¬ëœ ë¬¸ì œ</h2>
<h3 id="ì´ˆê¸°-ìƒíƒœ">ì´ˆê¸° ìƒíƒœ</h3>
<ul>
<li><strong>Backend</strong>: 8ê°œ Critical/Blocker ì´ìŠˆ</li>
<li><strong>Frontend</strong>: 14ê°œ Critical/Blocker ì´ìŠˆ</li>
<li><strong>Quality Gate</strong>: í•­ìƒ ERROR (ê¸°ë³¸ ì •ì±…ì´ ë„ˆë¬´
ì—„ê²©)</li>
</ul>
<h3 id="ì£¼ìš”-ë¬¸ì œ-ìœ í˜•">ì£¼ìš” ë¬¸ì œ ìœ í˜•</h3>
<table>
<thead>
<tr>
<th>ë¬¸ì œ ìœ í˜•</th>
<th>ê°œìˆ˜</th>
<th>ì‹¬ê°ë„</th>
<th>ì„¤ëª…</th>
</tr>
</thead>
<tbody>
<tr>
<td>í•˜ë“œì½”ë”©ëœ ë¹„ë°€ë²ˆí˜¸</td>
<td>3ê°œ</td>
<td>ğŸ”´ BLOCKER</td>
<td>ì½”ë“œì— ë¹„ë°€ë²ˆí˜¸ ë…¸ì¶œ</td>
</tr>
<tr>
<td>ë†’ì€ Cognitive Complexity</td>
<td>6ê°œ</td>
<td>ğŸŸ  CRITICAL</td>
<td>í•¨ìˆ˜ê°€ ë„ˆë¬´ ë³µì¡</td>
</tr>
<tr>
<td>ë³´ì•ˆ ì·¨ì•½ì </td>
<td>2ê°œ</td>
<td>ğŸ”´ BLOCKER</td>
<td>í”„ë¡œë•ì…˜ ìœ„í—˜ ì„¤ì •</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="ìˆ˜ì •-ì‚¬í•­">âœ… ìˆ˜ì • ì‚¬í•­</h2>
<h3 id="í•˜ë“œì½”ë”©ëœ-ë¹„ë°€ë²ˆí˜¸-ì œê±°">1. í•˜ë“œì½”ë”©ëœ ë¹„ë°€ë²ˆí˜¸ ì œê±°</h3>
<h4 id="ìˆ˜ì •ëœ-íŒŒì¼">ìˆ˜ì •ëœ íŒŒì¼</h4>
<ul>
<li><code>quote/src/app.module.ts</code> - MongoDB ë¹„ë°€ë²ˆí˜¸</li>
<li><code>mypage/src/auth/auth.module.ts</code> - JWT Secret</li>
<li><code>mypage/src/app.module.ts</code> - MariaDB ë¹„ë°€ë²ˆí˜¸</li>
</ul>
<h4 id="ë³€ê²½-ë‚´ìš©">ë³€ê²½ ë‚´ìš©</h4>
<div class="sourceCode" id="cb1"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">// âŒ Before: ë¹„ë°€ë²ˆí˜¸ê°€ ì½”ë“œì— ê·¸ëŒ€ë¡œ</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>password<span class="op">:</span> <span class="st">&#39;Gkrtod1@&#39;</span><span class="op">,</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>secret<span class="op">:</span> <span class="st">&#39;YOUR_SECRET_KEY&#39;</span><span class="op">,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">// âœ… After: í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>password<span class="op">:</span> config<span class="op">.</span><span class="fu">get</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span>(<span class="st">&#39;MARIADB_PASSWORD&#39;</span>)<span class="op">,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>secret<span class="op">:</span> config<span class="op">.</span><span class="fu">get</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span>(<span class="st">&#39;JWT_SECRET&#39;</span>)<span class="op">,</span></span></code></pre></div>
<p><strong>íš¨ê³¼</strong>: ë¹„ë°€ë²ˆí˜¸ê°€ ì½”ë“œì—ì„œ ì œê±°ë˜ì–´ ë³´ì•ˆ ê°•í™”</p>
<hr />
<h3 id="cognitive-complexity-í•´ê²°">2. Cognitive Complexity í•´ê²°</h3>
<h4 id="ìˆ˜ì •ëœ-í•¨ìˆ˜ë“¤">ìˆ˜ì •ëœ í•¨ìˆ˜ë“¤</h4>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 26%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr>
<th>íŒŒì¼</th>
<th>í•¨ìˆ˜</th>
<th>ë³µì¡ë„</th>
<th>í•´ê²° ë°©ë²•</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>main/src/vehicle.service.ts</code></td>
<td><code>findOneByTrimId</code></td>
<td>63 â†’ 15 ì´í•˜</td>
<td>5ê°œ í•¨ìˆ˜ë¡œ ë¶„ë¦¬</td>
</tr>
<tr>
<td><code>aichat/scripts/analyze-reviews.ts</code></td>
<td><code>bootstrap</code></td>
<td>42 â†’ 15 ì´í•˜</td>
<td>4ê°œ í•¨ìˆ˜ë¡œ ë¶„ë¦¬</td>
</tr>
<tr>
<td><code>aichat/src/chat/chat.service.ts</code></td>
<td><code>identifyCarWithLlama</code></td>
<td>18 â†’ 15 ì´í•˜</td>
<td>2ê°œ í•¨ìˆ˜ë¡œ ë¶„ë¦¬</td>
</tr>
<tr>
<td><code>quote/src/app.service.ts</code></td>
<td><code>getBaseTrimsByModel</code></td>
<td>16 â†’ 15 ì´í•˜</td>
<td>2ê°œ í•¨ìˆ˜ë¡œ ë¶„ë¦¬</td>
</tr>
</tbody>
</table>
<p><strong>íš¨ê³¼</strong>: ì½”ë“œ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ</p>
<hr />
<h3 id="ë³´ì•ˆ-ì·¨ì•½ì -ìˆ˜ì •">3. ë³´ì•ˆ ì·¨ì•½ì  ìˆ˜ì •</h3>
<h4 id="mockauthguard-í”„ë¡œë•ì…˜-ì°¨ë‹¨">MockAuthGuard í”„ë¡œë•ì…˜ ì°¨ë‹¨</h4>
<div class="sourceCode" id="cb2"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">// âŒ Before: í”„ë¡œë•ì…˜ì—ì„œë„ ì¸ì¦ ìš°íšŒ ê°€ëŠ¥</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">// âœ… After: í”„ë¡œë•ì…˜ì—ì„œëŠ” ì—ëŸ¬</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">NODE_ENV</span> <span class="op">===</span> <span class="st">&#39;development&#39;</span>) {</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="st">&#39;MockAuthGuard should not be used in production&#39;</span>)<span class="op">;</span></span></code></pre></div>
<h4 id="synchronize-ì¡°ê±´ë¶€-ì„¤ì •">synchronize ì¡°ê±´ë¶€ ì„¤ì •</h4>
<div class="sourceCode" id="cb3"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">// âŒ Before: í”„ë¡œë•ì…˜ì—ì„œë„ ìë™ ìŠ¤í‚¤ë§ˆ ë³€ê²½</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>synchronize<span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">// âœ… After: í”„ë¡œë•ì…˜ì—ì„œëŠ” false</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>synchronize<span class="op">:</span> config<span class="op">.</span><span class="fu">get</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span>(<span class="st">&#39;NODE_ENV&#39;</span>) <span class="op">!==</span> <span class="st">&#39;production&#39;</span><span class="op">,</span></span></code></pre></div>
<p><strong>íš¨ê³¼</strong>: í”„ë¡œë•ì…˜ ë³´ì•ˆ ê°•í™” ë° ë°ì´í„° ì†ì‹¤ ë°©ì§€</p>
<hr />
<h2 id="quality-gate-ì •ì±…">ğŸ¯ Quality Gate ì •ì±…</h2>
<h3 id="ì ìš©-ì „-ë¬¸ì œ">ì ìš© ì „ ë¬¸ì œ</h3>
<ul>
<li>ê¸°ë³¸ ì •ì±…(<code>Sonar way</code>)ì´ ë„ˆë¬´ ì—„ê²©</li>
<li>í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80%, ì¤‘ë³µ ì½”ë“œ 3% ë“± ìš”êµ¬</li>
<li>ìš°ë¦¬ í˜„í™©: ì»¤ë²„ë¦¬ì§€ 0%, ì¤‘ë³µ ì½”ë“œ 12%</li>
<li><strong>ê²°ê³¼</strong>: í•­ìƒ ERROR â†’ ë°°í¬ ë¶ˆê°€ëŠ¥</li>
</ul>
<h3 id="ì ìš©-í›„-ì •ì±…">ì ìš© í›„ ì •ì±…</h3>
<p><strong>ìš°ë¦¬ë§Œì˜ ì •ì±…</strong>:
<code>AlphaCar Backend/Frontend Gate Phase1</code></p>
<p><strong>í•µì‹¬ ì›ì¹™</strong>: â€œê°€ì¥ ìœ„í—˜í•œ ê²ƒë¶€í„° ë§‰ìâ€</p>
<h4 id="ìµœì¢…-ì¡°ê±´">ìµœì¢… ì¡°ê±´</h4>
<pre><code>âœ… Blocker Issues: 0ê°œ ì´ˆê³¼ ì‹œ ì‹¤íŒ¨</code></pre>
<p><strong>ì´ìœ </strong>: BlockerëŠ” ì‹œìŠ¤í…œ ì‘ë™ ë¶ˆê°€ ë˜ëŠ” ë³´ì•ˆ ëš«ë¦¼ â†’
ì ˆëŒ€ ë°°í¬ ê¸ˆì§€</p>
<h4 id="ì œê±°í•œ-ì¡°ê±´-í–¥í›„-ë‹¨ê³„ì -ì¶”ê°€">ì œê±°í•œ ì¡°ê±´ (í–¥í›„ ë‹¨ê³„ì 
ì¶”ê°€)</h4>
<ul>
<li>í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% â†’ í˜„ì¬ 0%ì´ë¯€ë¡œ ì œê±°</li>
<li>ì¤‘ë³µ ì½”ë“œ 3% ì´í•˜ â†’ í˜„ì¬ 12%ì´ë¯€ë¡œ ì œê±°</li>
<li>Security Hotspots 100% â†’ ë‹¨ê³„ì  ê°œì„  ì˜ˆì •</li>
</ul>
<h3 id="ì ìš©-ì „í›„-ë¹„êµ">ì ìš© ì „í›„ ë¹„êµ</h3>
<table>
<thead>
<tr>
<th>í•­ëª©</th>
<th>ì ìš© ì „</th>
<th>ì ìš© í›„</th>
</tr>
</thead>
<tbody>
<tr>
<td>Quality Gate</td>
<td>Sonar way (ê¸°ë³¸)</td>
<td>AlphaCar Gate Phase1</td>
</tr>
<tr>
<td>Blocker Issues</td>
<td>í¬í•¨</td>
<td>í¬í•¨ (0ê°œ ì´ˆê³¼ ì‹œ ì‹¤íŒ¨)</td>
</tr>
<tr>
<td>í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€</td>
<td>80% ì´ìƒ</td>
<td>ì œê±°</td>
</tr>
<tr>
<td>ì¤‘ë³µ ì½”ë“œ</td>
<td>3% ì´í•˜</td>
<td>ì œê±°</td>
</tr>
<tr>
<td>Security Hotspots</td>
<td>100% ê²€í† </td>
<td>ì œê±°</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="cicd-í†µí•©">ğŸ”„ CI/CD í†µí•©</h2>
<h3 id="ì ìš©-ì „">ì ìš© ì „</h3>
<div class="sourceCode" id="cb5"><pre
class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stage</span><span class="op">(</span><span class="st">&#39;SonarQube Analysis&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ì½”ë“œ ìŠ¤ìº”ë§Œ ì‹¤í–‰</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Quality Gate ê²€ì¦ ì—†ìŒ â†’ ë°”ë¡œ Build ë‹¨ê³„ë¡œ ì§„í–‰</span></span></code></pre></div>
<p><strong>ë¬¸ì œ</strong>: Quality Gate ì‹¤íŒ¨í•´ë„ ë¹Œë“œ ê³„ì† ì§„í–‰</p>
<h3 id="ì ìš©-í›„">ì ìš© í›„</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stage</span><span class="op">(</span><span class="st">&#39;SonarQube Analysis - Backend&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ì½”ë“œ ìŠ¤ìº” ì‹¤í–‰</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stage</span><span class="op">(</span><span class="st">&#39;SonarQube Quality Gate - Backend&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">def</span> qgBackend <span class="op">=</span> <span class="fu">waitForQualityGate</span><span class="op">()</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>qgBackend<span class="op">.</span>status <span class="op">!=</span> <span class="st">&#39;OK&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        error <span class="st">&quot;Backend Quality Gate failed&quot;</span>  <span class="co">// ë¹Œë“œ ì¤‘ë‹¨</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">// Frontendë„ ë™ì¼í•˜ê²Œ ì ìš©</span></span></code></pre></div>
<p><strong>íš¨ê³¼</strong>: Quality Gate ì‹¤íŒ¨ ì‹œ ë¹Œë“œ ìë™ ì¤‘ë‹¨</p>
<h3 id="cicd-íŒŒì´í”„ë¼ì¸-íë¦„">CI/CD íŒŒì´í”„ë¼ì¸ íë¦„</h3>
<pre><code>1. Checkout Code
2. SonarQube Analysis - Backend
3. SonarQube Quality Gate - Backend â† ê²€ì¦ (ì‹¤íŒ¨ ì‹œ ì¤‘ë‹¨)
4. SonarQube Analysis - Frontend
5. SonarQube Quality Gate - Frontend â† ê²€ì¦ (ì‹¤íŒ¨ ì‹œ ì¤‘ë‹¨)
6. Build Docker Images
7. Trivy Security Scan
8. Push to Harbor
9. Deploy to Server</code></pre>
<hr />
<h2 id="ìµœì¢…-ê²°ê³¼">ğŸ“Š ìµœì¢… ê²°ê³¼</h2>
<h3 id="criticalblocker-ì´ìŠˆ">Critical/Blocker ì´ìŠˆ</h3>
<table>
<thead>
<tr>
<th>í”„ë¡œì íŠ¸</th>
<th>ì ìš© ì „</th>
<th>ì ìš© í›„</th>
<th>ìƒíƒœ</th>
</tr>
</thead>
<tbody>
<tr>
<td>Backend</td>
<td>8ê°œ</td>
<td>0ê°œ</td>
<td>âœ… í•´ê²°</td>
</tr>
<tr>
<td>Frontend</td>
<td>14ê°œ</td>
<td>0ê°œ</td>
<td>âœ… í•´ê²°</td>
</tr>
</tbody>
</table>
<h3 id="quality-gate-ìƒíƒœ">Quality Gate ìƒíƒœ</h3>
<table>
<thead>
<tr>
<th>í”„ë¡œì íŠ¸</th>
<th>ì ìš© ì „</th>
<th>ì ìš© í›„</th>
<th>ìƒíƒœ</th>
</tr>
</thead>
<tbody>
<tr>
<td>Backend</td>
<td>ERROR</td>
<td>OK</td>
<td>âœ… í†µê³¼</td>
</tr>
<tr>
<td>Frontend</td>
<td>ERROR</td>
<td>OK</td>
<td>âœ… í†µê³¼</td>
</tr>
</tbody>
</table>
<h3 id="ì½”ë“œ-í’ˆì§ˆ-ê°œì„ ">ì½”ë“œ í’ˆì§ˆ ê°œì„ </h3>
<table>
<thead>
<tr>
<th>í•­ëª©</th>
<th>ê°œì„  ë‚´ìš©</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cognitive Complexity</td>
<td>6ê°œ í•¨ìˆ˜ ë¦¬íŒ©í† ë§ (63 â†’ 15 ì´í•˜)</td>
</tr>
<tr>
<td>í•˜ë“œì½”ë”©ëœ ìê²©ì¦ëª…</td>
<td>3ê°œ íŒŒì¼ ìˆ˜ì • (í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©)</td>
</tr>
<tr>
<td>ë³´ì•ˆ ì·¨ì•½ì </td>
<td>2ê°œ ìˆ˜ì • (MockAuthGuard, synchronize)</td>
</tr>
</tbody>
</table>
<h3 id="cicd-í†µí•©-1">CI/CD í†µí•©</h3>
<table>
<thead>
<tr>
<th>í•­ëª©</th>
<th>ì ìš© ì „</th>
<th>ì ìš© í›„</th>
</tr>
</thead>
<tbody>
<tr>
<td>SonarQube Analysis</td>
<td>âœ… ì‹¤í–‰</td>
<td>âœ… ì‹¤í–‰</td>
</tr>
<tr>
<td>Quality Gate ê²€ì¦</td>
<td>âŒ ì—†ìŒ</td>
<td>âœ… ì¶”ê°€ë¨</td>
</tr>
<tr>
<td>ë¹Œë“œ ì¤‘ë‹¨ ì¡°ê±´</td>
<td>ì—†ìŒ</td>
<td>Quality Gate ì‹¤íŒ¨ ì‹œ ì¤‘ë‹¨</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="í•µì‹¬-ê°œì„ -ì‚¬í•­">ğŸ¯ í•µì‹¬ ê°œì„  ì‚¬í•­</h2>
<h3 id="ë³´ì•ˆ-ê°•í™”">1. ë³´ì•ˆ ê°•í™”</h3>
<ul>
<li>âœ… ëª¨ë“  ìê²©ì¦ëª…ì„ í™˜ê²½ ë³€ìˆ˜ë¡œ ì´ë™</li>
<li>âœ… í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ MockAuthGuard ë¹„í™œì„±í™”</li>
<li>âœ… synchronize ì„¤ì •ì„ í™˜ê²½ë³„ë¡œ ë¶„ë¦¬</li>
</ul>
<h3 id="ì½”ë“œ-í’ˆì§ˆ-í–¥ìƒ">2. ì½”ë“œ í’ˆì§ˆ í–¥ìƒ</h3>
<ul>
<li>âœ… ë†’ì€ Cognitive Complexity í•¨ìˆ˜ ë¦¬íŒ©í† ë§</li>
<li>âœ… ì½”ë“œ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± ê°œì„ </li>
</ul>
<h3 id="quality-gate-ì •ì±…-1">3. Quality Gate ì •ì±…</h3>
<ul>
<li>âœ… ì‹¤ìš©ì ì¸ ì •ì±… ìˆ˜ë¦½ (Blocker Issuesë§Œ ì²´í¬)</li>
<li>âœ… Backend/Frontend ê°ê° ì»¤ìŠ¤í…€ Quality Gate ìƒì„±</li>
</ul>
<h3 id="cicd-í†µí•©-2">4. CI/CD í†µí•©</h3>
<ul>
<li>âœ… Quality Gate ê²€ì¦ ë‹¨ê³„ ì¶”ê°€</li>
<li>âœ… Quality Gate ì‹¤íŒ¨ ì‹œ ë¹Œë“œ ìë™ ì¤‘ë‹¨</li>
</ul>
<hr />
<h2 id="ê²°ë¡ ">âœ… ê²°ë¡ </h2>
<p>SonarQube ì •ì±… ì ìš©ì„ í†µí•´:</p>
<ol type="1">
<li><strong>ë³´ì•ˆ</strong>: ëª¨ë“  ìê²©ì¦ëª…ì„ í™˜ê²½ ë³€ìˆ˜ë¡œ ì´ë™í•˜ì—¬ ë³´ì•ˆ
ê°•í™”</li>
<li><strong>í’ˆì§ˆ</strong>: Critical/Blocker ì´ìŠˆ 0ê°œ ë‹¬ì„± ë° ì½”ë“œ ë³µì¡ë„
ê°œì„ </li>
<li><strong>ìë™í™”</strong>: CI/CD íŒŒì´í”„ë¼ì¸ì— Quality Gate ê²€ì¦
í†µí•©</li>
<li><strong>ì¼ê´€ì„±</strong>: ëª¨ë“  ì„œë¹„ìŠ¤ì˜ í™˜ê²½ ë³€ìˆ˜ ë° ì½”ë“œ íŒ¨í„´
í†µì¼</li>
</ol>
<p><strong>ì´ì œ CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ SonarQubeê°€ ì½”ë“œ ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ê³ ,
Quality Gate ì •ì±…ì— ë”°ë¼ ê²€ì¦í•˜ë©°, ê¸°ì¤€ì„ í†µê³¼í•œ ì½”ë“œë§Œ
ë°°í¬ë©ë‹ˆë‹¤.</strong></p>
<hr />
<h2 id="ì°¸ê³ -ì‚¬í•­">ğŸ“ ì°¸ê³  ì‚¬í•­</h2>
<h3 id="ì•Œë ¤ì§„-ì´ìŠˆ">ì•Œë ¤ì§„ ì´ìŠˆ</h3>
<ul>
<li><code>Unknown url: /api/project_branches/get_ai_code_assurance</code>
ì—ëŸ¬
<ul>
<li>ì›ì¸: SonarQube Community ë²„ì „ì—ì„œ Enterprise ì „ìš© ê¸°ëŠ¥ í˜¸ì¶œ
ì‹œë„</li>
<li>ì˜í–¥: ì—†ìŒ (ê¸°ëŠ¥ì  ë¬¸ì œ ì—†ìŒ)</li>
</ul></li>
</ul>
<h3 id="ë‹¤ìŒ-ë‹¨ê³„-ì„ íƒì‚¬í•­">ë‹¤ìŒ ë‹¨ê³„ (ì„ íƒì‚¬í•­)</h3>
<ol type="1">
<li>í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ê°œì„  (í˜„ì¬ 0% â†’ ëª©í‘œ 30%)</li>
<li>ì¤‘ë³µ ì½”ë“œ ê°ì†Œ (í˜„ì¬ 12% â†’ ëª©í‘œ 5%)</li>
<li>Security Hotspots ê²€í†  (í˜„ì¬ 0% â†’ ëª©í‘œ 50%)</li>
</ol>
<hr />
<p><strong>ì‘ì„±ì¼</strong>: 2024ë…„ 12ì›”<br />
<strong>SonarQube ë²„ì „</strong>: Community Build v25.11.0.114957<br />
<strong>ì ìš© í”„ë¡œì íŠ¸</strong>: alphacar-backend, alphacar-frontend</p>
<hr />
<h2 id="ìµœì¢…-ë³´ì•ˆ-ì·¨ì•½ì -ìˆ˜ì •-2024-12-10">ğŸ” ìµœì¢… ë³´ì•ˆ ì·¨ì•½ì  ìˆ˜ì •
(2024-12-10)</h2>
<h3 id="ì¶”ê°€-ë°œê²¬-ë°-ìˆ˜ì •">ì¶”ê°€ ë°œê²¬ ë° ìˆ˜ì •</h3>
<h4 id="ìˆ˜ì •ëœ-íŒŒì¼-1">ìˆ˜ì •ëœ íŒŒì¼</h4>
<ol type="1">
<li><code>mypage/src/app.module.ts</code> - í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©, synchronize
ì¡°ê±´ë¶€</li>
<li><code>mypage/src/auth/auth.module.ts</code> - JWT_SECRET í™˜ê²½ë³€ìˆ˜
ì‚¬ìš©</li>
<li><code>quote/src/app.module.ts</code> - estimate_conn í™˜ê²½ë³€ìˆ˜
ì‚¬ìš©</li>
<li><code>community/src/app.module.ts</code> - synchronize ì¡°ê±´ë¶€</li>
</ol>
<h3 id="í™˜ê²½ë³€ìˆ˜-ì¼ê´€ì„±-ê°œì„ ">í™˜ê²½ë³€ìˆ˜ ì¼ê´€ì„± ê°œì„ </h3>
<ul>
<li><code>docker-compose.yml</code>ì—ì„œ <code>MARIADB_USERNAME</code>
í†µì¼</li>
<li>ì½”ë“œì™€ í™˜ê²½ë³€ìˆ˜ ì´ë¦„ ì¼ì¹˜</li>
</ul>
<h3 id="ê¸°ëŠ¥-ë™ì¼ì„±-ê²€ì¦">ê¸°ëŠ¥ ë™ì¼ì„± ê²€ì¦</h3>
<ul>
<li>âœ… ì„œë¹„ìŠ¤ ë¡œì§: ë³€ê²½ ì—†ìŒ (45ê°œ ì„œë¹„ìŠ¤ íŒŒì¼)</li>
<li>âœ… API ì—”ë“œí¬ì¸íŠ¸: ë³€ê²½ ì—†ìŒ</li>
<li>âœ… DB ì—°ê²° ê¸°ëŠ¥: ë™ì¼ (ë°©ì‹ë§Œ í™˜ê²½ë³€ìˆ˜ë¡œ ë³€ê²½)</li>
<li>âœ… JWT ì¸ì¦ ê¸°ëŠ¥: ë™ì¼ (ì„¤ì • ë°©ì‹ë§Œ í™˜ê²½ë³€ìˆ˜ë¡œ ë³€ê²½)</li>
</ul>
<p><strong>ê²°ë¡ </strong>: ì„œë¹„ìŠ¤ ê¸°ëŠ¥ì€ ì´ì „ê³¼ 100% ë™ì¼í•˜ê²Œ ì‘ë™í•˜ë©°,
ì½”ë“œ ì·¨ì•½ì ë§Œ ë³´ì•ˆ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<hr />
<h2 id="opentelemetry-ë¶„ì‚°-ì¶”ì -í†µí•©">ğŸ“Š OpenTelemetry ë¶„ì‚° ì¶”ì 
í†µí•©</h2>
<h3 id="ê°œìš”">ê°œìš”</h3>
<p>ëª¨ë“  ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì— OpenTelemetryë¥¼ í†µí•©í•˜ì—¬ ë¶„ì‚° ì¶”ì (Distributed
Tracing) êµ¬í˜„</p>
<h3 id="ì ìš©ëœ-ì„œë¹„ìŠ¤">ì ìš©ëœ ì„œë¹„ìŠ¤</h3>
<ul>
<li>âœ… main, quote, mypage, community, drive, search</li>
<li>âš ï¸ aichat (í˜„ì¬ ì£¼ì„ ì²˜ë¦¬ë¨)</li>
</ul>
<h3 id="ê¸°ìˆ -ìŠ¤íƒ">ê¸°ìˆ  ìŠ¤íƒ</h3>
<ul>
<li><code>@opentelemetry/auto-instrumentations-node</code>: ìë™
ì¸ìŠ¤íŠ¸ë£¨ë©˜í…Œì´ì…˜</li>
<li><code>@opentelemetry/exporter-trace-otlp-grpc</code>: OTLP gRPC
í”„ë¡œí† ì½œ</li>
<li>Tempo ì—”ë“œí¬ì¸íŠ¸: <code>192.168.0.175:4317</code></li>
</ul>
<h3 id="ì¥ì ">ì¥ì </h3>
<ul>
<li>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ ìš”ì²­ íë¦„ ì „ì²´ ì¶”ì </li>
<li>ì„±ëŠ¥ ë³‘ëª© ì§€ì  ì‹ë³„</li>
<li>ì—ëŸ¬ ë°œìƒ ì§€ì  ì¶”ì </li>
</ul>
<hr />
<h2 id="env-íŒŒì¼-ê´€ë¦¬-ì •ì±…-ê°œì„ ">ğŸ” .env íŒŒì¼ ê´€ë¦¬ ì •ì±… ê°œì„ </h2>
<h3 id="ë¬¸ì œ-ë°œê²¬">ë¬¸ì œ ë°œê²¬</h3>
<p>CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ <code>.env</code> íŒŒì¼ì„ ë°°í¬ í›„ ì‚­ì œí•˜ëŠ” ë°©ì‹
ì‚¬ìš©</p>
<h3 id="ë¬¸ì œì ">ë¬¸ì œì </h3>
<ul>
<li><code>docker compose restart</code> ì‹œ í™˜ê²½ ë³€ìˆ˜ ì½ì„ ìˆ˜ ì—†ìŒ</li>
<li>ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ ì‹œ í™˜ê²½ ë³€ìˆ˜ ì£¼ì… ë¶ˆê°€</li>
</ul>
<h3 id="ê°œì„ -ë°©ì•ˆ">ê°œì„  ë°©ì•ˆ</h3>
<p><code>.env</code> íŒŒì¼ ì‚­ì œë¥¼ ì œê±°í•˜ê³ , íŒŒì¼ ê¶Œí•œì„ 600ìœ¼ë¡œ ì œí•œ</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Before: .env íŒŒì¼ ì‚­ì œ</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>rm <span class="op">~</span><span class="st">/alphacar/</span>deploy<span class="op">/.</span>env</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">// After: ê¶Œí•œ ì œí•œ</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>chmod <span class="dv">600</span> <span class="op">~</span><span class="st">/alphacar/</span>deploy<span class="op">/.</span>env</span></code></pre></div>
<h3 id="ê²½ë¡œ-ì •ë³´">ê²½ë¡œ ì •ë³´</h3>
<ul>
<li><strong>ì ˆëŒ€ ê²½ë¡œ</strong>:
<code>/home/kevin/alphacar/deploy/.env</code></li>
<li><strong>docker-compose.yml ìœ„ì¹˜</strong>:
<code>/home/kevin/alphacar/deploy/docker-compose.yml</code></li>
</ul>
<h3 id="ê°œì„ -íš¨ê³¼">ê°œì„  íš¨ê³¼</h3>
<ul>
<li>âœ… ë³´ì•ˆ: íŒŒì¼ ê¶Œí•œ 600 (ì†Œìœ ìë§Œ ì½ê¸°/ì“°ê¸°)</li>
<li>âœ… ê¸°ëŠ¥: <code>docker compose restart</code> ê°€ëŠ¥</li>
<li>âœ… í™˜ê²½ ë³€ìˆ˜ ìë™ ì£¼ì… ìœ ì§€</li>
</ul>
<hr />
<p><strong>ìµœì¢… ì—…ë°ì´íŠ¸</strong>: 2024ë…„ 12ì›” 10ì¼</p>
</body>
</html>
